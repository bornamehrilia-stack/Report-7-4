# Report-7-4


# گزارش پروژه: کنترل شدت نور LED با جویستیک (LED Brightness Control with Joystick)

## ۱. مقدمه  
در این پروژه، یک **جویستیک** به آردوینو متصل شده است و موقعیت آن در محور X اندازه‌گیری می‌شود. سپس این مقدار به صورت **پویا و مستقیم** بر روی شدت نور یک LED تأثیر می‌گذارد — یعنی هرچه جویستیک به سمت راست حرکت کند، LED روشن‌تر می‌شود و هرچه به سمت چپ حرکت کند، خاموش‌تر می‌شود. .

## ۲. اهداف پروژه  
- آشنایی با ساختار جویستیک و نحوه‌ی کار آن  
- یادگیری نحوه‌ی اتصال جویستیک به آردوینو  
- خواندن مقدار آنالوگ از محور X  
- استفاده از تابع `map()` برای تبدیل محدوده‌ی مقدار جویستیک به محدوده‌ی PWM  
- کنترل شدت نور LED با استفاده از `analogWrite()`  
- آشنایی با مفهوم “کنترل پویا” و “واکنش به محیط”

## ۳. قطعات مورد استفاده  
- برد آردوینو Uno  
- یک جویستیک (Joystick)  
- یک LED (هر رنگی)  
- یک مقاومت ۲۲۰ اهم  
- برد برد (Breadboard)  
- سیم‌های جامپر (jumper wires)


## ۴. نحوه‌ی ساخت مدار  
- **جویستیک**:  
  - VCC → 5V آردوینو  
  - GND → GND آردوینو  
  - VRx → A0 (ورودی آنالوگ)  
  - VRy → A1 (ورودی آنالوگ) — *در این پروژه استفاده نمی‌شود*  
  - SW → پین دیجیتال ۲ آردوینو — *در این پروژه استفاده نمی‌شود*  
- **LED**:  
  - پایه‌ی مثبت → **پین دیجیتال ۹** آردوینو (پین PWM — با نماد ~)  
  - پایه‌ی منفی → از طریق مقاومت ۲۲۰ اهم → **GND**



## ۵. کد برنامه (اسکچ):

```cpp
const int SW = 2;   // تعریف پین دکمه جویستیک (در این پروژه استفاده نمی‌شود)
const int X = 0;    // تعریف پین VRx (محور X)
const int Y = 1;    // تعریف پین VRy (محور Y) — در این پروژه استفاده نمی‌شود
const int ledpin = 9; // تعریف پین LED

int value = 0;      // متغیر برای ذخیره مقدار PWM

void setup() {
  pinMode(SW, INPUT_PULLUP);  // تنظیم پین دکمه به عنوان ورودی با مقاومت pull-up
  pinMode(ledpin, OUTPUT);    // تنظیم پین LED به عنوان خروجی
  Serial.begin(9600);         // شروع ارتباط سریال برای نمایش داده
}

void loop() {
  // نمایش وضعیت دکمه جویستیک (اختیاری)
  Serial.print("switch: ");
  Serial.print(digitalRead(SW));
  Serial.print("\t\t");  // تب برای فاصله

  // نمایش مقدار محور X
  Serial.print("VRx :");
  Serial.print(analogRead(X));
  Serial.print("\t\t");  // تب برای فاصله

  // نمایش مقدار محور Y (اختیاری)
  Serial.print("VRy: ");
  Serial.println(analogRead(Y));

  // خط جداکننده
  Serial.println("_______");

  // تبدیل مقدار ۰-۱۰۲۳ به ۰-۲۵۵ (برای PWM)
  value = map(analogRead(X), 0, 1023, 0, 255);

  // تنظیم شدت نور LED
  analogWrite(ledpin, value);

  delay(500);  // تأخیر ۵۰۰ میلی‌ثانیه برای ثبات نمایش
}
```

### توضیح کد:  
- `analogRead(X)` — مقدار آنالوگ را از محور X می‌خواند (محدوده: ۰ تا ۱۰۲۳).  
- `map(analogRead(X), 0, 1023, 0, 255)` — مقدار ۰-۱۰۲۳ را به ۰-۲۵۵ تبدیل می‌کند:
  - چون PWM فقط از ۰ تا ۲۵۵ کار می‌کند.
- `analogWrite(ledpin, value)` — شدت نور LED را بر اساس مقدار جویستیک تنظیم می‌کند.  
- `delay(500)` — برای اینکه نمایش در Serial Monitor قابل خواندن باشد.

## ۶. نحوه‌ی کارکرد  
- پس از آپلود کد، با حرکت دادن جویستیک در محور X، شدت نور LED تغییر می‌کند.  
- وقتی جویستیک به سمت راست حرکت کند → LED روشن‌تر می‌شود.  
- وقتی جویستیک به سمت چپ حرکت کند → LED خاموش‌تر می‌شود.  
- مقدار محور X نیز در Serial Monitor نمایش داده می‌شود.

## ۷. نتایج  
LED به صورت پیوسته و بدون جهش، با تغییر موقعیت جویستیک، شدت نور خود را تغییر می‌دهد. 
